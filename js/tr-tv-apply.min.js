!function(){var e,l,o,r,n,a,i,c;r={ABCDPattern:{shape:"abcd_pattern",params:{color:"color",bold:"linewidth"}},Arrow:{shape:"arrow",params:{colorBg:"linecolor"},overrides:{linewidth:4}},FibonacciArcs:{shape:"fib_speed_resist_arcs",params:{colorLevel0236:"level1.color",colorLevel0382:"level2.color",colorLevel05:"level3.color",colorLevel0618:"level4.color",colorLevel0786:"level5.color",colorLevel1:"level6.color",colorLevel1618:"level7.color",colorLevel2618:"level8.color",boldLevel0236:"level1.linewidth",boldLevel0382:"level2.linewidth",boldLevel05:"level3.linewidth",boldLevel0618:"level4.linewidth",boldLevel0786:"level5.linewidth",boldLevel1:"level6.linewidth",boldLevel1618:"level7.linewidth",boldLevel2618:"level8.linewidth",colorBg:"transparency"},overrides:{"level9.visible":!1,"level10.visible":!1,"level11.visible":!1}},FibonacciRetracement:{shape:"fib_retracement",params:{colorLevel0:"level1.color",colorLevel0236:"level2.color",colorLevel0382:"level3.color",colorLevel05:"level4.color",colorLevel0618:"level5.color",colorLevel0786:"level6.color",colorLevel1:"level7.color",colorLevel1618:"level8.color",colorLevel2618:"level9.color",boldLevel1:"trendline.linewidth",colorBg:"transparency"},overrides:{"level10.visible":!1,"level11.visible":!1}},Forecast:{shape:["rectangle","forecast"],params:[{},{colorSuccess:"successBackground",colorFailure:"failureBackground"}],overrides:[{linecolor:"red",linewidth:1,color:function(e){var l;return(l=e.points)[0].value>l[1].value?"#eb202d":"#64b12d"},backgroundColor:function(e){var l;return(l=e.points)[0].value>l[1].value?"rgba(235,32,45,0.3)":"rgba(100,177,45,0.3)"}},{linewidth:4}]},GannBox:{shape:"gannbox",params:{colorLevelH0:"hlevel1.color",colorLevelH025:"hlevel2.color",colorLevelH0382:"hlevel3.color",colorLevelH05:"hlevel4.color",colorLevelH0618:"hlevel5.color",colorLevelH075:"hlevel6.color",colorLevelH1:"hlevel7.color",colorLevelV0:"vlevel1.color",colorLevelV025:"vlevel2.color",colorLevelV0382:"vlevel3.color",colorLevelV05:"vlevel4.color",colorLevelV0618:"vlevel5.color",colorLevelV075:"vlevel6.color",colorLevelV1:"vlevel7.color",colorBg:["horzTransparency","vertTransparency"]}},GannFan:{shape:"gannbox_fan",params:{colorLine11:"level5.color",colorLine12:["level4.color","level6.color"],colorLine13:["level3.color","level7.color"],colorLine14:["level2.color","level8.color"],colorLine18:["level1.color","level9.color"],boldLine11:"level5.linewidth",boldLine12:["level4.linewidth","level6.linewidth"],boldLine13:["level3.linewidth","level7.linewidth"],boldLine14:["level2.linewidth","level8.linewidth"],boldLine18:["level1.linewidth","level9.linewidth"],colorBg:"transparency"}},HeadAndShoulders:{shape:"head_and_shoulders",params:{color:"color",bold:"linewidth",colorBg:"backgroundColor"}},HorizontalLine:{shape:"horizontal_line",params:{color:"linecolor",bold:"linewidth"}},Limit:{shape:"vertical_line",params:{},overrides:{frozen:!0,linecolor:"rgba(0,0,0,0.5)",linewidth:4,linestyle:1}},Line:{shape:"trend_line",params:{color:"linecolor",bold:"linewidth"}},ParallelChannel:{shape:"parallel_channel",params:{color:"linecolor",bold:"linewidth",colorBg:"backgroundColor"}},Pitchfork:{shape:"pitchfork",params:{colorBg:"transparency",color:"median.color",colorBorder:"level5.color",colorMiddle:"level2.color",bold:"median.linewidth",boldBorder:"level5.linewidth",boldMiddle:"level2.linewidth"}},Text:{shape:"text",params:{text:"text",color:"color",colorBg:["backgroundColor","backgroundTransparency"],bold:"bold"},overrides:{fillBackground:!0}},Trade:{shape:function(e){var l;return(l=e.points)[1].value>l[2].value?"long_position":"short_position"},params:{colorEntry:"linecolor",colorProfit:"profitBackground",colorLoss:"stopBackground",boldEntry:"linewidth"}},Triangle:{shape:"triangle",params:{color:"color",bold:"linewidth",colorBg:"backgroundColor"}},VerticalLine:{shape:"vertical_line",params:{color:"linecolor",bold:"linewidth"}}},o=(e=>{var l,o,r,n;for(n={},o=0,r=e.length;o<r;o++)l=e[o],isNaN(l.value)||(l.value=parseFloat(l.value)),n[l.key]=l.value;return n}),i=function(e,l,o){var r,n,a,i;for(r=n=0,i=(a=l.split(".")).length;n<i;r=++n)l=a[r],r<a.length-1?(null==e[l]&&(e[l]={}),e=e[l]):e[l]=o},a=function(e){var l,o,r,n,a,i;for(r=e.name,i=[],l=0,o=(a=e.points).length;l<o;l++)n=a[l],i.push({time:n.timestamp,price:n.value});return"Text"!==r&&"Trade"!==r||i.splice(1),"ParallelChannel"===r&&(i[2].time=(i[0].time+i[1].time)/2),i},n=function(e,l){var o,n,a,c,t,v,s,d,h,p,u,f,b,L,m;if(!1,s=e.name,u=e.params,L={frozen:!0},null!=r[s]){if((d=r[s].overrides)instanceof Array&&(d=d[l]),(h=r[s].params)instanceof Array&&(h=h[l]),null!=d)for(n in d)"function"==typeof(m=d[n])&&(m=m(e)),i(L,n,m);for(n in u)if(m=u[n],null!=(c="funciton"==typeof h[n]?h[n](e):h[n]))for(o=0,a=(t=c instanceof Array?c:[c]).length;o<a;o++)c=t[o],/^colorBg$/.test(n)&&/transparency/i.test(c)?(b=/^rgba\((\d{1,3}%?),\s*(\d{1,3}%?),\s*(\d{1,3}%?),\s*(\d*(?:\.\d+)?)\)$/).test(m)?(v=b.exec(m),p=100-100*parseFloat(v[4])):p=80:p="Text"!==s&&/^bold/.test(n)?m?2:1:m,i(L,c,p);"Trade"===s&&(f=e.points,L.accountSize=1e3,L.profitLevel=100*Math.abs(f[1].value-f[0].value),L.stopLevel=100*Math.abs(f[2].value-f[0].value))}return L},l=function(e){return{T:1,M:1,H:60,D:1440,W:10080}[e.slice(-1)]*parseInt(e)},c=function(e,l,o,r){var i,t;try{t=e.createMultipointShape(a(l),{shape:r}),e.getShapeById(t).setProperties(n(l,o))}catch(n){i=n,setTimeout(function(){c(e,l,o,r)},500),console.error(i)}},e=function(e,l){var o,n,a,i,t,v;for((i=r[l.name].shape)instanceof Array||(i=[i]),o=n=0,a=i.length;n<a;o=++n)null!=(v="function"===(t=i[o])?t(l):t)&&c(e,l,o,v)},window.T4PTradingViewConnect=function(r,n,a,i){r.addEventHandler("apply",function(c){r.getIdea(c,function(r){var c,t,v;if(typeof(n)==='function')n=n();v=r.panel,t=l(v.timeframe),n.removeAllShapes(),n.setChartType(["bars","candles","line","area"].indexOf(v.type));try{null!=a?a(v.symbol):n.setSymbol(v.symbol),null!=i?i(v.timeframe,t.toString()):n.setResolution(t.toString())}catch(e){c=e,console.error(c)}n.dataReady(function(){setTimeout(function(){var l,r,a,i;for(null==v.offset2&&(v.offset2=v.offset-60*v.count*t),n.setVisibleRange({from:v.offset2,to:v.offset}),e(n,{name:"Limit",points:[{timestamp:v.timestamp,value:0}]}),r=0,a=(i=v.drawings).length;r<a;r++)(l=i[r]).params=o(l.params),e(n,l)},500)})})})}}();
